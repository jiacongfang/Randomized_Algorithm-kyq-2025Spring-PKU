    
    \begin{question}{7 (50') (A Combinatorial Proof of Chernoff Bound)} 
    In the lecture, you learned how to prove Chernoff Bound by Generating Function.  In this problem, you will learn another way to prove Chernoff Bound. Our goal is to prove the following theorem: 

    \begin{theorem}\label{main}
    Suppose $X_1, \dots, X_n$ are i.i.d random variables from $\{-1, 1\}$, each w.p. $\frac 12$. Then $$\Pr[\sum_{i = 1} ^ n X_i \ge k \sqrt n] \le e ^ {- \Theta(k ^ 2)}$$
    \end{theorem}

    You will achieve this goal step by step. 

    
    
    \begin{itemize}
        \item[a. (10')] Prove the following lemma: 
        
        \begin{lemma} (Poor Man Chernoff Bound)
            Suppose $X_1, \dots, X_n$ are i.i.d random variables from $\{-1, 1\}$ each w.p. $\frac 12$. Then 
            
            $$\Pr[\sum_{i = 1} ^ n X_i \ge 2 k \sqrt {n}] \le 2 ^ {-k} $$
        \end{lemma}

        Hint:  First, you can use Chebeyshevâ€™s Inequality to prove the following fact: 

        \begin{fact}
            Suppose $X_1, \dots, X_n$ are i.i.d random variables from $\{-1, 1\}$ each w.p. $\frac 12$. Then 

            $$\Pr[\sum_{i = 1} ^ n X_i \ge 2 \sqrt {n}] \le \frac 14 $$
        \end{fact}

        Then, consider $S_i = \sum_{j = 1} ^ i X_j$, let $p$ be the first point where $S_p \ge 2 \sqrt n$, 
        then $\Pr[S_n \ge 2 k \sqrt n] = \Pr[p 
 \text{ exists}] \cdot \Pr[S_n - S_p \ge 2 (k-1) \sqrt n \mid p \text{ exists}]$. If you can prove $\Pr[p \text{ exists} ] \le \frac 12$, you can prove the lemma by induction. 
        

        
        \item[b. (10')] Prove the following lemma: 

        \begin{lemma}(Chernoff Bound for Geometric Distribution) 
        
  Suppose $X_1, \dots, X_n$ are i.i.d random variables, that $X_i \ge 0, \Pr[X_i \ge j] \le p^ j, \forall j = 1, 2, \dots$ for a $p < \frac 14$. Then 
  
  $$\Pr[\sum_{i =1 } ^ n X_i \ge 2n] \le (4p) ^ {-n}$$.
        \end{lemma}

        Hint: If we can prove $\Pr[\sum_{i = 1} ^ n \lfloor X_i \rfloor \ge n] \le (4p) ^ {-n}$, then it's easy to see the lemma will hold. Suppose $\sum_{i = 1} ^ n  \lfloor X_i \rfloor  \ge n$, then there exist $Y_1, \dots, Y_n$, that $\forall 1\le i\le n, X_i \ge Y_i$ and $\sum_{i = 1} ^ n Y_i = n$. 

        Fix the sequence $Y_1, \dots, Y_n$, calculate the probability of sequence $X_i$ satisfies $\forall i, X_i \ge Y_i$. Then use union bound for all the posible sequence of $Y$.


        \item[c. (10')]  Prove the following lemma: 
        \begin{lemma} (Lowerbound for Chernoff Bound)
    
    Suppose $X_1, \dots, X_n$ are i.i.d random variables from $\{-1, 1\}$ each w.p. $\frac 12$. Then 
    $$\Pr[\sum_{i = 1} ^ n X_i \ge \frac k2\sqrt{n}] \ge (\frac 14) ^ {k^ 2}$$.

\end{lemma}

You can use the fact: 

\begin{fact}\label{lowerbound fact}
        Suppose $X_1, \dots, X_n$ are i.i.d random variables from $\{-1, 1\}$ each w.p. $\frac 12$. Then 
    $$\Pr[\sum_{i = 1} ^ n X_i \ge \frac 12\sqrt{n}] \ge \frac 14$$.

\end{fact}

Hint: Divide $X_1, \dots, X_n$ into $m = k^ 2$ groups, use the Fact \ref{lowerbound fact} on each group. 
    \end{itemize}

    \item [d. (20')] Prove Theorem \ref{main}. 
    \end{question}  